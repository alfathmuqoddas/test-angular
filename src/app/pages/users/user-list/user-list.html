<div class="container mx-auto p-6">
  @if (usersReq.isLoading()) {
    <p>Loading...</p>
  }

  @if (usersReq.error()) {
    <div class="error-box">
      <p>Could not load user data.</p>
      <button (click)="usersReq.reload()">Retry</button>
    </div>
  }

  @if (usersReq.value(); as users) {
    <h2 class="text-2xl font-bold mb-4 text-gray-800">System Users</h2>

    <div class="overflow-x-auto shadow-md sm:rounded-lg">
      <table class="w-full text-sm text-left text-gray-500">
        <thead class="text-xs text-gray-700 uppercase bg-gray-50">
          <tr>
            <th class="px-6 py-3">Full Name</th>
            <th class="px-6 py-3">Username</th>
            <th class="px-6 py-3">Email</th>
            <th class="px-6 py-3">Action</th>
          </tr>
        </thead>
        <tbody>
          @for (user of users; track user.id) {
            <tr class="bg-white border-b hover:bg-gray-50 transition-colors">
              <td class="px-6 py-4 font-medium text-gray-900">{{ user.name }}</td>
              <td class="px-6 py-4">{{ user.username }}</td>
              <td class="px-6 py-4">{{ user.email }}</td>
              <td class="px-6 py-4">
                <a
                  [routerLink]="['/users', user.id]"
                  class="font-medium text-blue-600 hover:underline"
                >
                  View Details
                </a>
              </td>
            </tr>
          } @empty {
            <tr>
              <td colspan="4" class="px-6 py-10 text-center">no users found...</td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  }
</div>
